/* ====== Base ====== */
:root{
  --bg:#f8fafc;
  --text:#111827;
  --muted:#6b7280;
  --border:#e5e7eb;
  --primary:#6366f1;
  --primary-weak: rgba(99,102,241,.15);
  --success:#10b981;
  --warning:#f59e0b;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }             /* (mantener una sola vez) */
body{
  margin:0;                            /* (evita bordes blancos del navegador) */
  background:var(--bg);
  color:var(--text);
  font-family:system-ui, -apple-system, "Segoe UI", Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";
}
a{ color:inherit; }

/* ====== Layout ====== */
.container{ max-width:1100px; margin:0 auto; padding:1.25rem; }
.section-header{
  display:flex; align-items:center; justify-content:space-between; gap:1rem; flex-wrap:wrap;
}

/* Grids */
.grid-4{ display:grid; grid-template-columns: repeat(4, minmax(0,1fr)); gap:1rem; }
.grid-2-1{ display:grid; grid-template-columns: 2fr 1fr; gap:1rem; }
@media (max-width: 900px){ .grid-2-1{ grid-template-columns:1fr; } }

/* Spacing utils */
.mt-1{ margin-top:.5rem; }
.mb-1{ margin-bottom:.5rem; }

/* ====== Card ====== */
.card{ background:#fff; border-radius:.75rem; box-shadow:0 10px 25px rgba(0,0,0,.06); }
.card-content{ padding:1.25rem; }

/* ====== Forms ====== */
.form-group{ margin-bottom:1rem; }
.form-label{ display:block; font-weight:600; margin-bottom:.25rem; color:#374151; }
.form-input,.form-select{
  width:100%; padding:.6rem .8rem; border:1px solid var(--border); border-radius:.5rem; outline:0; background:#fff;
}
.form-input:focus,.form-select:focus{ border-color:var(--primary); box-shadow:0 0 0 3px var(--primary-weak); }

/* ====== Buttons & Links ====== */
.btn{ display:inline-flex; align-items:center; justify-content:center; gap:.5rem; padding:.6rem .9rem; border-radius:.5rem; border:0; cursor:pointer; text-decoration:none; }
.btn-primary{ background:var(--primary); color:#fff; }
.btn-outline{ background:#fff; border:1px solid var(--border); color:#374151; }
.link{ color:#4f46e5; text-decoration:none; }
.link:hover{ text-decoration:underline; }

/* ====== Messages ====== */
.messages{ position:relative; margin:1rem auto; max-width:700px; }
.msg{ padding:.75rem 1rem; border-radius:.5rem; margin-bottom:.5rem; color:var(--text); }
.msg.success{ background:#dcfce7; }
.msg.info{ background:#e0f2fe; }
.msg.warning{ background:#fef9c3; }
.msg.error{ background:#fee2e2; }

/* ====== Navbar (básico) ====== */
nav.navbar{ background:#fff; border-bottom:1px solid var(--border); }
.navbar-container{ max-width:1100px; margin:0 auto; padding:.75rem 1rem; display:flex; align-items:center; justify-content:space-between; }
.navbar-brand{ display:flex; gap:.5rem; align-items:center; font-weight:700; color:var(--text); text-decoration:none; }
.navbar-nav{ display:flex; gap:1rem; list-style:none; padding:0; margin:0; }
.navbar-link{ text-decoration:none; color:#374151; }
.navbar-link.active{ color:var(--text); font-weight:600; }

/* ====== Footer ====== */
.footer-base{ margin-top:3rem; padding:2rem 0; background:#111827; color:#e5e7eb; }

/* ====== Portales ====== */
/* Stats cards */
.stats-grid{ display:grid; grid-template-columns: repeat(4, minmax(0,1fr)); gap:1rem; }
@media (max-width: 800px){ .stats-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); } }
.stats-card{ background:#fff; border:1px solid var(--border); border-radius:.75rem; padding:1rem; text-align:center; }
.stats-card .label{ font-size:1rem; color:var(--muted); }
.stats-card .value{ font-size:2rem; font-weight:800; color:var(--text); }

/* Activity list */
.activity-list{ display:grid; gap:.75rem; }
.activity-card{ background:#fff; border:1px solid var(--border); border-radius:.75rem; padding:.75rem 1rem; transition:transform .2s ease, box-shadow .2s ease; }
.activity-card:hover{ transform: translateY(-2px); box-shadow:0 12px 20px -8px rgba(0,0,0,.12); }

/* Leaderboard */
.leaderboard{ list-style:none; padding:0; margin:0; display:grid; gap:.5rem; }
.leaderboard-item{ display:flex; align-items:center; gap:.75rem; padding:.5rem; border-radius:.5rem; }
.leaderboard-rank{ font-weight:700; font-size:1.125rem; min-width:2rem; text-align:center; }
.leaderboard-avatar{
  width:2.5rem; height:2.5rem; border-radius:50%;
  background:linear-gradient(45deg, #3b82f6, #8b5cf6);
  display:flex; align-items:center; justify-content:center; color:#fff; font-weight:600;
}
.leaderboard-info{ flex:1; }
.leaderboard-name{ font-weight:500; }
.leaderboard-level{ font-size:.875rem; color:var(--muted); }
.leaderboard-points{ font-weight:600; color:#059669; }

/* Rewards */
.reward-card{ background:#fff; border:1px solid var(--border); border-radius:.75rem; padding:.75rem 1rem; }

/* Helpers */
.text-muted{ color:var(--muted); }

/* ====== Helpers extra para auth/portales ====== */
/* Centrado vertical general */
.center-page{
  min-height: calc(100vh - 140px);   /* layout general con header/footer */
  display:flex; align-items:center; justify-content:center;
}

/* Fondo de autenticación a pantalla completa (sin bordes blancos) */
.auth-bg{
  position: relative;
  min-height: 100dvh;                /* alto real en móviles */
  display: grid;
  place-items: center;
  padding: 2rem 1rem;                /* espacio alrededor de la tarjeta */
}
.auth-bg::before{
  content: "";
  position: fixed;                   /* cubre todo el viewport */
  inset: 0;
  background: var(--auth-bg, linear-gradient(135deg,#667eea 0%,#764ba2 100%));
  z-index: -1;                       /* detrás del contenido */
}
/* Cuando center-page se usa junto a auth-bg, forzamos alto completo */
.auth-bg.center-page{ min-height: 100dvh; }

/* Temas de auth */
.auth-bg--indigo{ --auth-bg: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
.auth-bg--teal  { --auth-bg: linear-gradient(135deg, #10b981 0%, #06b6d4 100%); }
.auth-bg--blue  { --auth-bg: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%); }

/* Fallback si 100dvh no está soportado */
@supports not (min-height: 100dvh){
  .auth-bg, .auth-bg.center-page { min-height: 100vh; }
}

/* Utilidades varias */
.auth-card{ width:100%; max-width: 460px; }
.text-center{ text-align:center; }
.title-xl{ font-size:1.75rem; font-weight:800; margin:0; }
.subtitle{ color: var(--muted); margin-top:.25rem; }
.grid-2{ display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:1rem; }
@media (max-width: 700px){ .grid-2{ grid-template-columns: 1fr; } }


/* —— Registro compacto —— */
.auth-card{ max-width: 360px; }           /* antes 460px */
.auth-compact .card-content{ padding: 1rem; }
.auth-compact h1{ font-size: 1.25rem; margin-bottom: .75rem; }

.auth-compact .form-control,
.auth-compact .form-select{ padding: .35rem .6rem; font-size: .9rem; }

.auth-compact .row.g-2{ --bs-gutter-x: .5rem; --bs-gutter-y: .5rem; }

.auth-compact .btn{ padding: .45rem .75rem; font-size: .9rem; }

/* Requisitos de contraseña más discreto */
#pw-requirements{ padding: .6rem .75rem; font-size: .85rem; }
#pw-requirements .badge{ font-size: .7rem; }
#pw-requirements li{ margin-bottom: .25rem; }

/* —— Registro ancho —— */
.auth-wide { max-width: 500px; }            /* ancho cómodo */
@media (min-width: 700px){
  .auth-wide { max-width: 500px; }          /* un poco más ancho en desktop grande */
}
/* (opcional) un poquito más de aire interno */
.auth-wide .card-content { padding: 1.25rem 1.5rem; }

/* Avatar del navbar (círculo con foto o inicial) */
.navbar .avatar{
  width: 36px; height: 36px;
  border-radius: 50%;
  background: #e5e7eb;
  display: inline-grid; place-items: center;
  font-weight: 700; color: #334155;
  overflow: hidden;
}
.navbar .avatar-sm{ width: 32px; height: 32px; }
.navbar .avatar img{ width:100%; height:100%; object-fit:cover; display:block; }
.navbar .avatar-initial{ font-size: .95rem; line-height:1; }

/* Dropdown del usuario */
.dropdown-menu[aria-labelledby="userMenu"]{
  border-radius: 12px;
  border: 1px solid rgba(0,0,0,.06);
}
.dropdown-menu .avatar{ width: 36px; height: 36px; }

.navbar .avatar{
  width:36px; height:36px; border-radius:50%;
  background:#e5e7eb; display:inline-grid; place-items:center;
  font-weight:700; color:#334155; overflow:hidden;
}
.navbar .avatar-sm{ width:32px; height:32px; }
.navbar .avatar img{ width:100%; height:100%; object-fit:cover; display:block; }
.navbar .avatar-initial{ font-size:.95rem; line-height:1; }

/* Fuerza texto negro en el navbar */
.navbar .navbar-brand,
.navbar .nav-link,
.navbar .dropdown-item {
  color: #000 !important;
}

.navbar .nav-link:hover,
.navbar .nav-link.active,
.navbar .dropdown-item:hover {
  color: #000 !important; /* sigue negro al hover/activo */
}
