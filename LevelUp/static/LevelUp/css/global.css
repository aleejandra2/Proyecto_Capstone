/* ====== Base ====== */
:root{
  /* base */
  --bg:#f8fafc;
  --text:#111827;
  --muted:#6b7280;
  --border:#e5e7eb;
  --primary:#6366f1;
  --primary-weak: rgba(99,102,241,.15);
  --success:#10b981;
  --warning:#f59e0b;
}

html,body{ height:100%; }
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:system-ui, -apple-system, "Segoe UI", Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";
}

/* ====== Layout ====== */
.container{ max-width:1100px; margin:0 auto; padding:1.25rem; }
.section-header{ display:flex; align-items:center; justify-content:space-between; gap:1rem; flex-wrap:wrap; }

/* Grids */
.grid-4{ display:grid; grid-template-columns: repeat(4, minmax(0,1fr)); gap:1rem; }
.grid-2-1{ display:grid; grid-template-columns: 2fr 1fr; gap:1rem; }
@media (max-width: 900px){ .grid-2-1{ grid-template-columns:1fr; } }

/* Spacing utils */
.mt-1{ margin-top:.5rem; }
.mb-1{ margin-bottom:.5rem; }

/* ====== Card ====== */
.card{ background:#fff; border-radius:.75rem; box-shadow:0 10px 25px rgba(0,0,0,.06); }
.card-content{ padding:1.25rem; }

/* ====== Forms ====== */
.form-group{ margin-bottom:1rem; }
.form-label{ display:block; font-weight:600; margin-bottom:.25rem; color:#374151; }
.form-input,.form-select{
  width:100%; padding:.6rem .8rem; border:1px solid var(--border); border-radius:.5rem; outline:0; background:#fff;
}
.form-input:focus,.form-select:focus{
  border-color:var(--primary); box-shadow:0 0 0 3px var(--primary-weak);
}

/* ====== Buttons & Links ====== */
.btn{ display:inline-flex; align-items:center; justify-content:center; gap:.5rem; padding:.6rem .9rem; border-radius:.5rem; border:0; cursor:pointer; text-decoration:none; }
.btn-primary{ background:var(--primary); color:#fff; }
.btn-outline{ background:#fff; border:1px solid var(--border); color:#374151; }
.link{ color:#4f46e5; text-decoration:none; }
.link:hover{ text-decoration:underline; }

/* ====== Messages ====== */
.messages{ position:relative; margin:0 auto; max-width:700px; }
.msg{ padding:.75rem 1rem; border-radius:.5rem; margin-bottom:.5rem; color:var(--text); }
.msg.success{ background:#dcfce7; }
.msg.info{ background:#e0f2fe; }
.msg.warning{ background:#fef9c3; }
.msg.error{ background:#fee2e2; }

/* ====== Navbar ====== */
.navbar-container{ max-width:1100px; margin:0 auto; padding:.75rem 1rem; display:flex; align-items:center; justify-content:space-between; }
.navbar-brand{ display:flex; gap:.5rem; align-items:center; font-weight:700; color:var(--text); text-decoration:none; }
.navbar-nav{ display:flex; gap:1rem; list-style:none; padding:0; margin:0; }
.navbar-link{ text-decoration:none; color:#374151; }
.navbar-link.active{ color:var(--text); font-weight:600; }

/* ====== Footer ====== */
.footer-base{ padding:2rem 0; background:#111827; }

/* ====== Portales ====== */
.stats-grid{ display:grid; grid-template-columns: repeat(4, minmax(0,1fr)); gap:1rem; }
@media (max-width: 800px){ .stats-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); } }
.stats-card{ background:#fff; border:1px solid var(--border); border-radius:.75rem; padding:1rem; text-align:center; }
.stats-card .label{ font-size:1rem; color:var(--muted); }
.stats-card .value{ font-size:2rem; font-weight:800; color:var(--text); }

.activity-list{ display:grid; gap:.75rem; }
.activity-card{ background:#fff; border:1px solid var(--border); border-radius:.75rem; padding:.75rem 1rem; transition:transform .2s ease, box-shadow .2s ease; }
.activity-card:hover{ transform: translateY(-2px); box-shadow:0 12px 20px -8px rgba(0,0,0,.12); }

.leaderboard{ list-style:none; padding:0; margin:0; display:grid; gap:.5rem; }
.leaderboard-item{ display:flex; align-items:center; gap:.75rem; padding:.5rem; border-radius:.5rem; }
.leaderboard-rank{ font-weight:700; font-size:1.125rem; min-width:2rem; text-align:center; }
.leaderboard-avatar{
  width:2.5rem; height:2.5rem; border-radius:50%;
  background:linear-gradient(45deg, #3b82f6, #8b5cf6);
  display:flex; align-items:center; justify-content:center; color:#fff; font-weight:600;
}
.leaderboard-info{ flex:1; }
.leaderboard-name{ font-weight:500; }
.leaderboard-level{ font-size:.875rem; color:var(--muted); }
.leaderboard-points{ font-weight:600; color:#059669; }

.reward-card{ background:#fff; border:1px solid var(--border); border-radius:.75rem; padding:.75rem 1rem; }

.text-muted{ color:var(--muted); }


/* ====== Página principal (blueprint) ====== */
:root{
  --bp-ink:#1E1B2E;
  --bp-primary:#867cc4;
  --bp-primary-600:#6f64a3;
  --bp-blue:#3A81F6;
  --bp-accent:#988bb6;
  --bp-hero:#bfbaf7;
  --bp-soft:#EAF0FF;
  --bp-cream:#fbeaff;
}

/* Navbar */
.navbar-bp{ background: var(--bp-primary) !important; }

/* Botones principales */
.btn-bp-primary{
  --bs-btn-bg: var(--bp-primary);
  --bs-btn-border-color: var(--bp-primary);
  --bs-btn-hover-bg: var(--bp-primary-600);
  --bs-btn-hover-border-color: var(--bp-primary-600);
  --bs-btn-color:#fff;
}

/* Buscador */
.bp-search-btn{ background: var(--bp-primary); color:#fff; border:none; }

/* Hero */
.bp-hero{ background: var(--bp-hero); color:#fff; }
.bp-hero-band{ background: var(--bp-soft); }

/* Categorías */
.bp-cats{ background: var(--bp-soft); padding: 1.25rem 0 1.75rem; }
.bp-cat{
  display:block; text-align:center; text-decoration:none; color:#fff;
  border-radius:.6rem; padding: .9rem .6rem; border:0;
  box-shadow: 0 6px 14px rgba(17,12,38,.12);
}
.bp-cat span{
  display:block; margin-top:.55rem; font-weight:700; font-size:.9rem;
  text-shadow: 0 1px 0 rgba(0,0,0,.1);
}
.bp-cat-icon{
  width: 100%; aspect-ratio: 1 / 1; border-radius:.35rem;
  background-size: cover; background-position:center;
}
/* Variantes de color */
.bp-cat-1{ background: linear-gradient(135deg,#6c9cff,#3A81F6); }
.bp-cat-2{ background: linear-gradient(135deg,#b58cff,#6F4AB5); }
.bp-cat-3{ background: linear-gradient(135deg,#70e1f5,#82a1ff); }
.bp-cat-4{ background: linear-gradient(135deg,#ffc9ff,#b798ff); }
.bp-cat-5{ background: linear-gradient(135deg,#8ddad5,#6c9cff); }
.bp-cat-6{ background: linear-gradient(135deg,#6f4ab5,#3f8bff); }

/* Actividad del día */
.bp-day{ background: var(--bp-cream); }
.bp-day-card{ background:#fff; border-radius:18px; box-shadow: 0 12px 28px rgba(17,12,38,.08); }

/* Utilidades */
.text-secondary{ color:#6b6b88 !important; }
.btn-bp-link{ color: var(--bp-primary); }


/* ==== Admin Portal ==== */

/* === Hero alineado al navbar === */
.admin-hero {
  --grad-start: #a78bfa;
  /* violet */
  --grad-end: #60a5fa;
  /* sky    */
  background: linear-gradient(90deg, var(--grad-start), var(--grad-end));
  border-radius: 16px;
}

.btn-hero {
  background: #ffffff;
  color: #0f172a;
  font-weight: 900;
  letter-spacing: .2px;
  border-radius: 12px;
  padding: .7rem 1rem;
  border: 0;
  box-shadow: 0 6px 16px rgba(0, 0, 0, .08);
}

.btn-hero:hover {
  filter: brightness(0.98);
}

/* === Títulos === */
.section-title {
  font-weight: 900;
  font-size: 1.05rem;
  letter-spacing: .3px;
  color: #0f172a;
  font-family: 'Merienda', cursive;
}

.group-title {
  font-weight: 900;
  font-size: .95rem;
  letter-spacing: .35px;
  color: #0f172a;
}

/* === KPI cards === */
.kpi-card {
  border: 1px solid #e2e8f0;
  border-radius: 16px;
  padding: 16px;
  background: #fff;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 6px;
  box-shadow: 0 6px 16px rgba(0, 0, 0, .06);
}

.kpi-icon {
  font-size: 22px;
  line-height: 1;
}

.kpi-label {
  font-size: .9rem;
  color: #64748b;
  font-weight: 800;
  letter-spacing: .2px;
}

.kpi-value {
  font-size: 2rem;
  font-weight: 900;
  color: #0f172a;
}

/* === Estados === */
.chip {
  border-radius: 999px;
  padding: .25rem .6rem;
  font-weight: 800;
  font-size: .8rem;
}

.chip-success {
  background: #dcfce7;
  color: #166534;
}

.chip-warn {
  background: #fef9c3;
  color: #92400e;
}

.chip-danger {
  background: #fee2e2;
  color: #991b1b;
}

.status-dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  display: inline-block;
  margin-right: 6px;
  vertical-align: middle;
  background: #94a3b8;
}

.status-dot.ok {
  background: #16a34a;
}

.status-dot.warn {
  background: #f59e0b;
}

.status-dot.bad {
  background: #ef4444;
}

.sys-list .list-group-item {
  border-color: #eef2f7;
}

.card .list-group-item small {
  display: block;
  word-break: break-word;
}

.text-truncate {
  max-width: 360px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* === Botones === */
.btn-edu-navy {
  --navy: #0d3b66;
  background: var(--navy);
  color: #fff;
  border: none;
  border-radius: 12px;
  font-weight: 900;
  letter-spacing: .25px;
  padding: .9rem 1.2rem;
  box-shadow: 0 8px 20px rgba(13, 59, 102, .25);
}

.btn-edu-navy:hover {
  background: #0b3459;
  color: #fff;
}

.btn-card {
  display: block;
  width: 100%;
  text-align: center;
}

.btn-big {
  padding: .9rem 1.2rem;
  border-radius: 12px;
}

/* Chips como botones */
.btn-chip {
  border-radius: 999px;
  padding: .45rem .9rem;
  font-weight: 800;
  font-size: .85rem;
  border: 2px solid #cbd5e1;
  color: #334155;
  background: #fff;
  box-shadow: 0 4px 10px rgba(0, 0, 0, .06);
}

.btn-chip:hover {
  background: #f1f5f9;
}

.btn-ghost {
  border-color: #cbd5e1;
}

/* Selector compacto */
.k-slim {
  padding: .35rem .6rem;
  border-radius: 12px;
}

/* Nota bajo “Crear usuario” */
.helper-note {
  margin: 4px 2px 0;
  color: #475569;
  font-size: .92rem;
}

/* ===== Botón Timo ===== */
.timo-home-btn {
  position: fixed;
  left: 1.5rem;
  bottom: 1.5rem;
  width: 100px;
  height: 100px;
  border-radius: 50%;
  background: #ffffff;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 8px 18px rgba(0, 0, 0, 0.25);
  cursor: pointer;
  z-index: 999;
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.timo-home-btn img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

.timo-home-btn:hover {
  transform: scale(1.05) translateY(-3px);
  box-shadow: 0 10px 24px rgba(0, 0, 0, 0.3);
}

@media (max-width: 768px) {
  .timo-home-btn {
    width: 60px;
    height: 60px;
    right: 1rem;
    bottom: 1rem;
  }
}