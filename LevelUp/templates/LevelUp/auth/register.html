{% extends "LevelUp/base.html" %}
{% load form_extras %}
{% block title %}Crear cuenta · LevelUp{% endblock %}

{% block content %}
<main style="min-height:calc(100vh - 220px); display:flex; align-items:center; background: linear-gradient(135deg,#10b981 0%, #06b6d4 100%);">
  <div class="container" style="display:flex; justify-content:center;">
    <div class="card" style="width:100%; max-width:550px;">
      <div class="card-content">
        <h1 style="font-size:1.5rem; font-weight:800; margin-bottom:1rem; color:#111827;">Crear cuenta</h1>

        <form method="post" novalidate autocomplete="off">
          {% csrf_token %}

          {% if form.non_field_errors %}
            {% for err in form.non_field_errors %}
              <div class="msg error" style="margin-bottom:.5rem;">{{ err }}</div>
            {% endfor %}
          {% endif %}

          <div style="display:grid; grid-template-columns:1fr 1fr; gap:1rem;">
            <div class="form-group">
              <label class="form-label" for="id_first_name">Nombre</label>
              {{ form.first_name|add_class:"form-input" }}
              {% for err in form.first_name.errors %}
                <div class="msg error" style="margin-top:.35rem;">{{ err }}</div>
              {% endfor %}
            </div>

            <div class="form-group">
              <label class="form-label" for="id_last_name">Apellido</label>
              {{ form.last_name|add_class:"form-input" }}
              {% for err in form.last_name.errors %}
                <div class="msg error" style="margin-top:.35rem;">{{ err }}</div>
              {% endfor %}
            </div>
          </div>

          <div class="form-group">
            <label class="form-label" for="id_email">Email</label>
            {{ form.email|add_class:"form-input" }}
            {% for err in form.email.errors %}
              <div class="msg error" style="margin-top:.35rem;">{{ err }}</div>
            {% endfor %}
          </div>

          <div class="form-group">
            <label class="form-label" for="id_rut">RUT</label>
            {{ form.rut|add_class:"form-input" }}
            {% for err in form.rut.errors %}
              <div class="msg error" style="margin-top:.35rem;">{{ err }}</div>
            {% endfor %}
          </div>

          <div class="form-group">
            <label class="form-label" for="id_rol">Rol</label>
            {{ form.rol|add_class:"form-select" }}
            {% for err in form.rol.errors %}
              <div class="msg error" style="margin-top:.35rem;">{{ err }}</div>
            {% endfor %}
          </div>

          <div style="display:grid; grid-template-columns:1fr 1fr; gap:1rem;">
            <div class="form-group">
              <label class="form-label" for="id_password1">Contraseña</label>
              {{ form.password1|add_class:"form-input" }}
              {% for err in form.password1.errors %}
                <div class="msg error" style="margin-top:.35rem;">{{ err }}</div>
              {% endfor %}
            </div>

            <div class="form-group">
              <label class="form-label" for="id_password2">Confirmar contraseña</label>
              {{ form.password2|add_class:"form-input" }}
              {% for err in form.password2.errors %}
                <div class="msg error" style="margin-top:.35rem;">{{ err }}</div>
              {% endfor %}
            </div>
          </div>

          <button type="submit" class="btn btn-primary" style="width:100%;">Crear cuenta</button>
        </form>

        <div style="margin-top:1rem; text-align:center;">
          <span>¿Ya tienes cuenta?</span> <a class="link" href="{% url 'login' %}">Iniciar sesión</a>
        </div>
      </div>
    </div>
  </div>
</main>
{% endblock %}
