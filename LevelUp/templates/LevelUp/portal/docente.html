{% extends "LevelUp/base.html" %}
{% block title %}Portal del Docente Â· LevelUp{% endblock %}
{% block body_class %}with-docente-navbar{% endblock %}

{% block content %}
<main class="portal-docente min-h-screen">
  <div class="container">

    <!-- HERO HEADER -->
    <div class="portal-hero">
      <div class="portal-hero-content">
        <h1>Â¡Bienvenido, Profesor! ğŸ‘‹</h1>
        <p>Gestiona tus clases, crea actividades y motiva a tus estudiantes a alcanzar nuevos niveles.</p>
        <div class="portal-hero-actions">
          <a href="{% url 'crear' %}" class="btn btn-light">
            <i class="bi bi-plus-circle me-2"></i>Crear actividad
          </a>
          <a href="{% url 'docente_lista' %}" class="btn btn-outline-light">
            <i class="bi bi-folder2-open me-2"></i>Mis actividades
          </a>
          <a href="{% url 'reportes_docente' %}" class="btn btn-outline-light">
            <i class="bi bi-graph-up me-2"></i>Ver reportes
          </a>
        </div>
      </div>
    </div>

    <!-- KPI CARDS -->
    <div class="kpi-grid">
      <div class="kpi-card kpi-students">
        <div class="kpi-icon">ğŸ‘¥</div>
        <div class="kpi-label">Estudiantes Activos</div>
        <div class="kpi-value">
          {{ total_estudiantes|default:0 }}
          <span class="kpi-trend up">
            <i class="bi bi-arrow-up-short"></i>+12%
          </span>
        </div>
      </div>

      <div class="kpi-card kpi-activities">
        <div class="kpi-icon">ğŸ“š</div>
        <div class="kpi-label">Actividades Creadas</div>
        <div class="kpi-value">{{ total_actividades|default:0 }}</div>
      </div>

      <div class="kpi-card kpi-average">
        <div class="kpi-icon">â­</div>
        <div class="kpi-label">Promedio General</div>
        <div class="kpi-value">{{ promedio_general|default:"â€”" }}</div>
      </div>

      <div class="kpi-card kpi-days">
        <div class="kpi-icon">ğŸ”¥</div>
        <div class="kpi-label">Racha de dÃ­as</div>
        <div class="kpi-value">
          {{ dias_activos|default:0 }}
          <span class="kpi-trend up">
            <i class="bi bi-fire"></i>
          </span>
        </div>
      </div>
    </div>

    <!-- ACTIVIDAD RECIENTE -->
    <div class="activity-section">
      <div class="section-header">
        <h2 class="section-title">
          <span class="emoji">ğŸ‘€</span>
          Actividad reciente
        </h2>
        <a href="{% url 'reportes_docente' %}" class="section-link">
          Ver todo <i class="bi bi-arrow-right"></i>
        </a>
      </div>

      <div class="activity-timeline">
        <div class="activity-item">
          <div class="activity-avatar purple">AV</div>
          <div class="activity-content">
            <div class="activity-text">
              <strong>Ana Vargas</strong> completÃ³ <span class="highlight">"Fracciones BÃ¡sicas"</span>
            </div>
            <div class="activity-meta">
              <i class="bi bi-clock"></i> Hace 5 minutos
            </div>
          </div>
          <span class="activity-badge points">
            <i class="bi bi-star-fill"></i> +150 pts
          </span>
        </div>

        <div class="activity-item">
          <div class="activity-avatar orange">LR</div>
          <div class="activity-content">
            <div class="activity-text">
              <strong>Luis RamÃ­rez</strong> alcanzÃ³ el <span class="highlight">Nivel 4</span>
            </div>
            <div class="activity-meta">
              <i class="bi bi-clock"></i> Hace 12 minutos
            </div>
          </div>
          <span class="activity-badge level-up">
            <i class="bi bi-trophy-fill"></i> Â¡Nivel Up!
          </span>
        </div>

        <div class="activity-item">
          <div class="activity-avatar blue">MC</div>
          <div class="activity-content">
            <div class="activity-text">
              <strong>MarÃ­a Castro</strong> entregÃ³ <span class="highlight">"Ecuaciones Lineales"</span>
            </div>
            <div class="activity-meta">
              <i class="bi bi-clock"></i> Hace 25 minutos
            </div>
          </div>
          <span class="activity-badge completed">
            <i class="bi bi-check-circle-fill"></i> Completado
          </span>
        </div>

        <div class="activity-item">
          <div class="activity-avatar green">JP</div>
          <div class="activity-content">
            <div class="activity-text">
              <strong>Jorge PÃ©rez</strong> obtuvo 95% en <span class="highlight">"Quiz de GeometrÃ­a"</span>
            </div>
            <div class="activity-meta">
              <i class="bi bi-clock"></i> Hace 1 hora
            </div>
          </div>
          <span class="activity-badge points">
            <i class="bi bi-star-fill"></i> +200 pts
          </span>
        </div>
      </div>

      <!-- Estado vacÃ­o (mostrar si no hay actividades) -->
      <!-- 
      <div class="empty-state">
        <div class="empty-state-icon">ğŸ“­</div>
        <div class="empty-state-text">
          AÃºn no hay actividad reciente de tus estudiantes
        </div>
      </div>
      -->
    </div>

    <!-- ACCIONES RÃPIDAS -->
    <div class="activity-section">
      <div class="section-header">
        <h2 class="section-title">
          <span class="emoji">âš¡</span>
          Acciones rÃ¡pidas
        </h2>
      </div>

      <div class="quick-actions-grid">
        <a href="{% url 'crear' %}" class="action-card primary">
          <div class="action-icon">ğŸ“</div>
          <div class="action-title">Crear Actividad</div>
          <div class="action-description">
            DiseÃ±a nuevas actividades y desafÃ­os para tus estudiantes
          </div>
        </a>

        <a href="{% url 'docente_lista' %}" class="action-card secondary">
          <div class="action-icon">ğŸ“š</div>
          <div class="action-title">Mis Actividades</div>
          <div class="action-description">
            Revisa y administra todas tus actividades creadas
          </div>
        </a>

        <a href="/admin/LevelUp/asignacionactividad/add/" target="_blank" class="action-card success">
          <div class="action-icon">ğŸ¯</div>
          <div class="action-title">Asignar Actividad</div>
          <div class="action-description">
            Asigna actividades a grupos o estudiantes especÃ­ficos
          </div>
        </a>

        <a href="{% url 'reportes_docente' %}" class="action-card warning">
          <div class="action-icon">ğŸ“Š</div>
          <div class="action-title">Ver Reportes</div>
          <div class="action-description">
            Analiza el progreso y desempeÃ±o de tus estudiantes
          </div>
        </a>
      </div>
    </div>

  </div>
</main>
{% endblock %}