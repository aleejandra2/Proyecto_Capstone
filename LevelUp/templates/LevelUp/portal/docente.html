{% extends "LevelUp/base.html" %}
{% block title %}Portal del Docente · LevelUp{% endblock %}

{% block content %}
<main class="min-h-screen">
  <div class="container">

    <!-- Encabezado -->
    <div class="card mb-1">
      <div class="card-content section-header">
        <div>
          <h1 style="font-size:1.75rem; font-weight:800; margin:0;">Portal del Profesor 👨‍🏫</h1>
          <p class="text-muted" style="margin:.25rem 0 0;">Gestiona tus clases y el progreso de tus estudiantes.</p>
        </div>
        <div style="display:flex; gap:.5rem; flex-wrap:wrap;">
          <a href="{% url 'actividades' %}" class="btn btn-primary">Crear actividad</a>
          <a href="{% url 'reportes_docente' %}" class="btn btn-outline">Ver reportes</a>
        </div>
      </div>
    </div>

    <!-- KPIs -->
    <div class="card mb-1">
      <div class="card-content">
        <div class="stats-grid">
          <div class="stats-card">
            <div class="label">Estudiantes</div>
            <div class="value">{{ total_estudiantes|default:0 }}</div>
          </div>
          <div class="stats-card">
            <div class="label">Actividades</div>
            <div class="value">{{ total_actividades|default:0 }}</div>
          </div>
          <div class="stats-card">
            <div class="label">Promedio</div>
            <div class="value">{{ promedio_general|default:"—" }}</div>
          </div>
          <div class="stats-card">
            <div class="label">Días activos</div>
            <div class="value">{{ dias_activos|default:0 }}</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Dos columnas: Actividad reciente + Acciones -->
    <div class="grid-2-1">
      <!-- Actividad reciente -->
      <div class="card">
        <div class="card-content">
          <h2 style="font-size:1.25rem; font-weight:700; margin:0 0 .75rem;">Actividad reciente</h2>

          <div class="activity-list">
            <div class="activity-card" style="display:flex; align-items:center; gap:1rem;">
              <div class="leaderboard-avatar">AV</div>
              <div style="flex:1;">
                <div style="font-weight:600;">Ana Vargas completó “Fracciones Básicas”</div>
                <div class="text-muted" style="font-size:.9rem;">Hace 5 minutos</div>
              </div>
              <span class="btn btn-outline" style="pointer-events:none;">+150 pts</span>
            </div>

            <div class="activity-card" style="display:flex; align-items:center; gap:1rem;">
              <div class="leaderboard-avatar" style="background:#f59e0b;color:#111827;">LR</div>
              <div style="flex:1;">
                <div style="font-weight:600;">Luis Ramírez subió al nivel 4</div>
                <div class="text-muted" style="font-size:.9rem;">Hace 12 minutos</div>
              </div>
              <span class="btn btn-outline" style="pointer-events:none;">Nivel Up!</span>
            </div>
          </div>

          <div class="mt-1 text-muted" style="font-size:.9rem;">* Conecta tus queryset reales de progreso/actividades aquí.</div>
        </div>
      </div>

      <!-- Acciones rápidas -->
      <div class="card">
        <div class="card-content">
          <h3 style="font-size:1.1rem; font-weight:700; margin:0 0 .5rem;">Acciones rápidas</h3>
          <div class="activity-list">
            <a href="{% url 'actividades' %}" class="btn btn-outline">📝 Nueva actividad</a>
            <a href="{% url 'reportes_docente' %}" class="btn btn-outline">📊 Reportes</a>
            <a href="{% url 'actividades' %}" class="btn btn-outline">🎖️ Asignar logros</a>
          </div>
        </div>
      </div>
    </div>

  </div>
</main>
{% endblock %}
