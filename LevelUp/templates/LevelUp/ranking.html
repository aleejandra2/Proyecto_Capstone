{% extends "LevelUp/base.html" %}
{% block title %}Ranking · LevelUp{% endblock %}
{% block content %}
<main class="min-h-screen">
  <div class="container">
    <div class="card">
      <div class="card-content">
        <div style="display:flex; justify-content:space-between; align-items:center;">
          <h1 style="margin:0; font-size:1.5rem; font-weight:800;">Ranking de Estudiantes</h1>
          <a href="{% url 'dashboard' %}" class="btn btn-outline">← Volver</a>
        </div>
        <ul style="list-style:none; padding:0; margin:1rem 0 0; display:grid; gap:.5rem;">
          {% for e in estudiantes_top %}
            <li class="card" style="padding:.75rem 1rem; display:flex; align-items:center; justify-content:space-between;">
              <div style="display:flex; align-items:center; gap:.75rem;">
                <div class="leaderboard-avatar">
                  {{ e.usuario.first_name|default:e.usuario.username|slice:":2"|upper }}
                </div>
                <div>
                  <div style="font-weight:600;">
                    {{ e.usuario.get_full_name|default:e.usuario.username }}
                  </div>
                  <div style="color:#6b7280; font-size:.9rem;">Nivel {{ e.nivel|default:1 }}</div>
                </div>
              </div>
              <div class="leaderboard-points">{{ e.puntos|default:0 }} pts</div>
            </li>
          {% empty %}
            <div class="msg info">Aún no hay estudiantes con puntaje.</div>
          {% endfor %}
        </ul>
      </div>
    </div>
  </div>
</main>
{% endblock %}
