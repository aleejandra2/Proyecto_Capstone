{% extends "LevelUp/base.html" %}
{% load static %}

{% block title %}Recompensas ¬∑ LevelUp{% endblock %}

{% block content %}
<main class="container py-3">
  <h1 class="h4 mb-3">üéÅ Recompensas</h1>

  {% if perfil %}
    <p class="mb-3">
      Nivel actual: <strong>{{ perfil.nivel }}</strong> ¬∑
      XP total: <strong>{{ perfil.xp_total }}</strong>
    </p>
  {% endif %}

  <div class="rewards-grid">
    {% for r in recompensas %}
      {% if r.id in desbloqueadas_ids %}
        <div class="reward-card">
          <div>
            <div class="reward-card-icon">
              {% if r.icono %}
                <img src="{% static r.icono %}" alt="{{ r.nombre }}">
              {% else %}
                ‚≠ê
              {% endif %}
            </div>
            <div class="reward-card-title">{{ r.nombre }}</div>
            {% if r.condicion_texto %}
              <div class="reward-card-condicion">{{ r.condicion_texto }}</div>
            {% endif %}
          </div>
        </div>
      {% else %}
        <div class="reward-card reward-card--locked">
          <div>
            <div class="reward-card-icon reward-card-icon--locked">
              üîí
            </div>
            <div class="reward-card-title">{{ r.nombre }}</div>
            {% if r.condicion_texto %}
              <div class="reward-card-condicion">{{ r.condicion_texto }}</div>
            {% endif %}
          </div>
        </div>
      {% endif %}
    {% empty %}
      <p>No hay recompensas configuradas a√∫n.</p>
    {% endfor %}
  </div>
</main>
{% endblock %}
